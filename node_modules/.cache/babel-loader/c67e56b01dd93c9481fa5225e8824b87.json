{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\diploma\\\\movies-explorer-frontend\\\\src\\\\components\\\\App\\\\App.js\";\nimport './App.css';\nimport { Routes, Route } from 'react-router-dom';\nimport Header from '../Header/Header';\nimport Footer from '../Footer/Footer';\nimport Main from '../Main/Main';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport Profile from '../Profile/Profile';\nimport NotFound from '../NotFound/NotFound';\nimport Movies from '../Movies/Movies';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  const express = require('express');\n\n  const app = express(); // Массив доменов, с которых разрешены кросс-доменные запросы\n\n  const allowedCors = ['http://localhost:3000', 'https://api.nomoreparties.co/beatfilm-movies']; // безопасность\n\n  app.use((req, res, next) => {\n    // Сохраняем источник запроса в переменную origin и\n    // проверяем, что источник запроса есть среди разрешённых\n    const {\n      origin\n    } = req.headers;\n    const {\n      method\n    } = req; // Сохраняем тип запроса (HTTP-метод) в соответствующую переменную\n\n    const requestHeaders = req.headers['access-control-request-headers']; // Значение для заголовка Access-Control-Allow-Methods по умолчанию (разрешены все типы запросов)\n\n    const DEFAULT_ALLOWED_METHODS = 'GET,HEAD,PUT,PATCH,POST,DELETE';\n\n    if (allowedCors.includes(origin)) {\n      // устанавливаем заголовок, который разрешает браузеру запросы с этого источника\n      res.header('Access-Control-Allow-Origin', origin);\n      res.header('Access-Control-Allow-Credentials', true);\n    } // Если это предварительный запрос, добавляем нужные заголовки\n\n\n    if (method === 'OPTIONS') {\n      // разрешаем кросс-доменные запросы любых типов (по умолчанию)\n      res.header('Access-Control-Allow-Methods', DEFAULT_ALLOWED_METHODS); // завершаем обработку запроса и возвращаем результат клиенту\n\n      res.header('Access-Control-Allow-Headers', requestHeaders); // завершаем обработку запроса и возвращаем результат клиенту\n\n      res.end();\n      return;\n    }\n\n    next();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/sign-up\",\n        element: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/sign-in\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/profile\",\n        element: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/movies\",\n        element: /*#__PURE__*/_jsxDEV(Movies, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/404\",\n        element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/dev/diploma/movies-explorer-frontend/src/components/App/App.js"],"names":["Routes","Route","Header","Footer","Main","Login","Register","Profile","NotFound","Movies","useEffect","App","express","require","app","allowedCors","use","req","res","next","origin","headers","method","requestHeaders","DEFAULT_ALLOWED_METHODS","includes","header","end"],"mappings":"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","sourcesContent":["import './App.css';\nimport {Routes, Route} from 'react-router-dom';\nimport Header from '../Header/Header';\nimport Footer from '../Footer/Footer';\nimport Main from '../Main/Main';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport Profile from '../Profile/Profile';\nimport NotFound from '../NotFound/NotFound';\nimport Movies from '../Movies/Movies';\nimport { useEffect } from 'react';\n\nfunction App() {\n  const express = require('express');\n  const app = express();\n\n  // Массив доменов, с которых разрешены кросс-доменные запросы\n  const allowedCors = [\n    'http://localhost:3000',\n    'https://api.nomoreparties.co/beatfilm-movies',\n  ];\n\n\n  // безопасность\napp.use((req, res, next) => {\n  // Сохраняем источник запроса в переменную origin и\n  // проверяем, что источник запроса есть среди разрешённых\n  const { origin } = req.headers;\n  const { method } = req; // Сохраняем тип запроса (HTTP-метод) в соответствующую переменную\n  const requestHeaders = req.headers['access-control-request-headers'];\n  // Значение для заголовка Access-Control-Allow-Methods по умолчанию (разрешены все типы запросов)\n  const DEFAULT_ALLOWED_METHODS = 'GET,HEAD,PUT,PATCH,POST,DELETE';\n  if (allowedCors.includes(origin)) {\n    // устанавливаем заголовок, который разрешает браузеру запросы с этого источника\n    res.header('Access-Control-Allow-Origin', origin);\n    res.header('Access-Control-Allow-Credentials', true);\n  }\n  // Если это предварительный запрос, добавляем нужные заголовки\n  if (method === 'OPTIONS') {\n    // разрешаем кросс-доменные запросы любых типов (по умолчанию)\n    res.header('Access-Control-Allow-Methods', DEFAULT_ALLOWED_METHODS);\n    // завершаем обработку запроса и возвращаем результат клиенту\n    res.header('Access-Control-Allow-Headers', requestHeaders);\n    // завершаем обработку запроса и возвращаем результат клиенту\n    res.end();\n    return;\n  }\n  next();\n});\n\n  return (\n    <div className=\"App\">\n      \n      <Header>\n        \n      </Header>\n      <Routes >\n\n        <Route exact path='/sign-up' element = {<Register />} />\n        <Route exact path='/sign-in' element = {<Login />} />\n        <Route exact path='/profile' element = {<Profile />} />\n        <Route exact path='/movies' element = {<Movies />} />\n\n        <Route exact path='/404' element = {<NotFound />} />\n        <Route exact path='/' element = {\n          <Main />\n        \n        }/>\n      </Routes>\n      \n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}