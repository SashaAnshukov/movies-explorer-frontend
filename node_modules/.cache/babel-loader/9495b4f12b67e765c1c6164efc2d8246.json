{"ast":null,"code":"export class Api {\n  constructor(_ref) {\n    let {\n      adress\n    } = _ref;\n    this._adress = adress;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._adress}/movies`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(this._checkResponse);\n  } //метод проверки ответа от сервера\n\n\n  _checkResponse(response) {\n    // тут проверка ответа\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(`Ошибка ${response.status}`);\n  }\n\n}\nconst api = new Api({\n  adress: 'https://api.nomoreparties.co/beatfilm-movies' //token : '86724e9f-206a-43a9-ab92-a5e8d301d078'\n\n});\nexport default api;","map":{"version":3,"sources":["C:/dev/diploma/movies-explorer-frontend/src/utils/MoviesApi.js"],"names":["Api","constructor","adress","_adress","getInitialCards","fetch","method","headers","then","_checkResponse","response","ok","json","Promise","reject","status","api"],"mappings":"AAAA,OAAO,MAAMA,GAAN,CAAU;AACbC,EAAAA,WAAW,OAAW;AAAA,QAAV;AAACC,MAAAA;AAAD,KAAU;AAClB,SAAKC,OAAL,GAAeD,MAAf;AACH;;AAEDE,EAAAA,eAAe,GAAG;AACd,WAAOC,KAAK,CAAE,GAAE,KAAKF,OAAQ,SAAjB,EAA2B;AACnCG,MAAAA,MAAM,EAAE,KAD2B;AAEnCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAF0B,KAA3B,CAAL,CAMNC,IANM,CAMD,KAAKC,cANJ,CAAP;AAOH,GAbY,CAeb;;;AACAA,EAAAA,cAAc,CAACC,QAAD,EAAW;AACrB;AACA,QAAIA,QAAQ,CAACC,EAAb,EAAiB;AACb,aAAOD,QAAQ,CAACE,IAAT,EAAP;AACH;;AACD,WAAOC,OAAO,CAACC,MAAR,CAAgB,UAASJ,QAAQ,CAACK,MAAO,EAAzC,CAAP;AACH;;AAtBY;AA0BjB,MAAMC,GAAG,GAAG,IAAIhB,GAAJ,CAAQ;AAChBE,EAAAA,MAAM,EAAE,8CADQ,CAEhB;;AAFgB,CAAR,CAAZ;AAKA,eAAec,GAAf","sourcesContent":["export class Api {\r\n    constructor({adress}) {\r\n        this._adress = adress;\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._adress}/movies`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n    \r\n    //метод проверки ответа от сервера\r\n    _checkResponse(response) {\r\n        // тут проверка ответа\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${response.status}`);\r\n    }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n    adress: 'https://api.nomoreparties.co/beatfilm-movies',\r\n    //token : '86724e9f-206a-43a9-ab92-a5e8d301d078'\r\n})\r\n\r\nexport default api;"]},"metadata":{},"sourceType":"module"}